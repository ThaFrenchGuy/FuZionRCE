<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>FuZion • Wipe Countdown</title>

  <meta property="og:title" content="FuZion • Wipe Countdown" />
  <meta property="og:description" content="Wipe: 30 January • Server ID: 858c63d" />
  <meta property="og:image" content="background.png" />
  <meta name="theme-color" content="#000000" />

  <style>
    :root{
      --text: rgba(255,255,255,.95);
      --muted: rgba(255,255,255,.75);
      --stroke: rgba(255,255,255,.16);
      --glass: rgba(0,0,0,.62);
      --glass2: rgba(0,0,0,.38);
      --shadow: 0 20px 70px rgba(0,0,0,.65);
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;background:#000;color:var(--text);font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif}
    body{overscroll-behavior:none;-webkit-text-size-adjust:100%;overflow-x:hidden}

    /* Background (blur + dim to hide busy poster text) */
    .bg{
      position:fixed; inset:0;
      background:#000 url("background.png") center/cover no-repeat;
      transform:translateZ(0) scale(1.05);
      filter: blur(10px) brightness(.55) saturate(1.15);
    }
    .bg2{
      position:fixed; inset:0;
      background:#000 url("background.png") center/cover no-repeat;
      opacity:.45;
      mix-blend-mode:screen;
      pointer-events:none;
    }
    .vignette{
      position:fixed; inset:0; pointer-events:none;
      background:
        radial-gradient(1200px 700px at 50% 30%, rgba(255,255,255,.08), rgba(0,0,0,.55) 60%, rgba(0,0,0,.9)),
        radial-gradient(900px 700px at 15% 25%, rgba(0,255,255,.10), transparent 60%),
        radial-gradient(900px 700px at 85% 35%, rgba(255,0,255,.10), transparent 60%);
    }

    .wrap{
      min-height:100%;
      display:flex; align-items:center; justify-content:center;
      padding:max(18px, env(safe-area-inset-top)) 14px max(22px, env(safe-area-inset-bottom));
      position:relative;
    }

    .card{
      width:min(920px, 96vw);
      background:var(--glass);
      border:1px solid var(--stroke);
      border-radius:22px;
      box-shadow:var(--shadow);
      backdrop-filter: blur(14px);
      padding:16px 16px 14px;
      position:relative;
      overflow:hidden;
    }

    /* Neon border glow */
    .card::before{
      content:"";
      position:absolute; inset:-2px;
      background:conic-gradient(from 180deg,
        rgba(0,255,255,0),
        rgba(0,255,255,.22),
        rgba(255,0,255,.22),
        rgba(255,255,0,.18),
        rgba(0,255,255,0));
      filter:blur(18px);
      opacity:.65;
      animation:spin 6.5s linear infinite;
      pointer-events:none;
    }
    @keyframes spin{to{transform:rotate(360deg)}}
    .card > *{position:relative; z-index:1}

    .top{
      display:flex; align-items:center; justify-content:space-between; gap:10px; flex-wrap:wrap;
      margin-bottom: 10px;
    }
    .pill{
      display:inline-flex; align-items:center;
      padding:8px 12px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.14);
      background:rgba(0,0,0,.35);
      color:var(--muted);
      letter-spacing:.14em;
      text-transform:uppercase;
      font-weight:900;
      font-size:12px;
    }
    .mini{
      display:inline-flex; align-items:center; justify-content:center;
      padding:10px 12px;
      border-radius:12px;
      border:1px solid rgba(255,255,255,.16);
      background:rgba(0,0,0,.35);
      color:rgba(255,255,255,.92);
      text-decoration:none;
      font-weight:950;
      letter-spacing:.14em;
      text-transform:uppercase;
      font-size:12px;
      white-space: nowrap;
    }
    .mini:active{transform:scale(.99)}

    /* Tabs */
    .tabs{
      display:flex;
      gap: 8px;
      flex-wrap: wrap;
      margin: 10px 0 14px;
      padding: 10px;
      border-radius: 16px;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.24);
    }
    .tab{
      appearance:none;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.28);
      color: rgba(255,255,255,.88);
      padding: 10px 12px;
      border-radius: 14px;
      font-weight: 950;
      letter-spacing: .12em;
      text-transform: uppercase;
      font-size: 12px;
      cursor: pointer;
      flex: 1 1 160px;
      text-align:center;
      user-select:none;
    }
    .tab:hover{ filter: brightness(1.08); }
    .tab:active{ transform: scale(.99); }
    .tab[aria-selected="true"]{
      background: rgba(0,0,0,.45);
      border-color: rgba(255,255,255,.22);
      box-shadow: 0 10px 30px rgba(0,0,0,.35);
      color: rgba(255,255,255,.98);
    }

        /* Panels (animated tab transitions) */
    .panelWrap{
      position:relative;
      transition: height .35s cubic-bezier(.2,.8,.2,1);
      will-change: height;
    }
    .panel{
      position:absolute;
      top:0; left:0;
      width:100%;
      opacity:0;
      transform: translateY(12px) scale(.985);
      pointer-events:none;
      transition:
        opacity .22s ease,
        transform .35s cubic-bezier(.2,.8,.2,1);
    }
    .panel.active{
      opacity:1;
      transform: translateY(0) scale(1);
      pointer-events:auto;
    }
    .panel.leaving{
      opacity:0;
      transform: translateY(-8px) scale(.985);
      pointer-events:none;
    }

    /* Tab micro-interactions */
    .tab{
      position:relative;
      overflow:hidden;
      transition: transform .18s ease, filter .18s ease, box-shadow .25s ease, border-color .25s ease, background .25s ease;
    }
    .tab::after{
      content:"";
      position:absolute; inset:0;
      background: radial-gradient(circle 80px at var(--rx,50%) var(--ry,50%), rgba(255,255,255,.22), transparent 62%);
      opacity:0;
      transform: scale(.2);
      pointer-events:none;
    }
    .tab.rippling::after{
      animation: ripple .52s ease;
    }
    @keyframes ripple{
      0%{ opacity:.0; transform: scale(.2); }
      15%{ opacity:.9; }
      100%{ opacity:0; transform: scale(1.65); }
    }

    /* Reduced motion */
    @media (prefers-reduced-motion: reduce){
      .panelWrap, .panel, .tab, .cta, .mini, .reveal, .accBody, .box{ transition:none !important; animation:none !important; }
    }

    h1{
      margin:8px 0 6px;
      font-size:clamp(26px, 5.8vw, 52px);
      letter-spacing:.06em;
      text-transform:uppercase;
      text-shadow:0 10px 35px rgba(0,0,0,.7);
    }
    .target{
      color:var(--muted);
      font-weight:850;
      display:flex; gap:10px; flex-wrap:wrap; align-items:baseline;
      margin-bottom:12px;
    }
    .target .label{letter-spacing:.16em;text-transform:uppercase;font-size:12px}
    .target .value{font-variant-numeric:tabular-nums;font-size:14px}

    .grid{
      display:grid;
      grid-template-columns:repeat(4, minmax(0,1fr));
      gap:12px;
      margin:10px 0 12px;
    }
    .tile{
      background:rgba(0,0,0,.38);
      border:1px solid rgba(255,255,255,.14);
      border-radius:18px;
      padding:16px 12px 12px;
      text-align:center;
      box-shadow:0 14px 40px rgba(0,0,0,.35);
    }
    .num{
      font-variant-numeric:tabular-nums;
      font-size:clamp(44px, 9vw, 88px);
      font-weight:950;
      line-height:1;
      text-shadow:0 16px 40px rgba(0,0,0,.75);
    }
    .lbl{
      margin-top:8px;
      font-size:12px;
      letter-spacing:.28em;
      color:rgba(255,255,255,.78);
      font-weight:950;
    }

    .ctaRow{display:flex; flex-direction:column; align-items:center; gap:10px; margin-top:6px}
    .cta{
      width:min(520px, 96%);
      display:inline-flex; align-items:center; justify-content:center;
      padding:16px 18px;
      border-radius:16px;
      border:1px solid rgba(255,255,255,.18);
      background:rgba(0,0,0,.35);
      text-decoration:none;
      color:rgba(255,255,255,.98);
      font-weight:950;
      letter-spacing:.22em;
      text-transform:uppercase;
      position:relative;
      overflow:hidden;
    }
    .cta::before{
      content:"";
      position:absolute; inset:-60px;
      background:conic-gradient(from 90deg,
        rgba(0,255,255,0),
        rgba(0,255,255,.35),
        rgba(255,0,255,.35),
        rgba(255,255,0,.30),
        rgba(0,255,255,0));
      filter:blur(18px);
      opacity:.75;
      animation:spin 4.2s linear infinite;
    }
    .cta span{position:relative; z-index:1}
    .cta:active{transform:scale(.99)}
    .sub{font-size:12px;letter-spacing:.16em;text-transform:uppercase;color:rgba(255,255,255,.78);font-weight:900}

    .foot{
      margin-top:12px;
      display:flex; gap:10px; justify-content:space-between; flex-wrap:wrap; align-items:center;
    }
    .server{
      padding:10px 12px;
      border-radius:14px;
      border:1px solid rgba(255,255,255,.14);
      background:rgba(0,0,0,.28);
      font-weight:900;
      letter-spacing:.06em;
    }
    .status{
      color:rgba(255,255,255,.78);
      font-weight:850;
      letter-spacing:.10em;
      text-transform:uppercase;
      font-size:12px;
    }

    /* Info panels */
    .box{
      background: var(--glass2);
      border: 1px solid rgba(255,255,255,.14);
      border-radius: 18px;
      padding: 14px 14px 12px;
      box-shadow: 0 14px 40px rgba(0,0,0,.30);
      margin-bottom: 12px;
    }
    .h2{
      margin: 0 0 10px;
      font-size: 14px;
      letter-spacing: .18em;
      text-transform: uppercase;
      font-weight: 950;
      color: rgba(255,255,255,.92);
    }
    .list{
      margin: 0;
      padding-left: 18px;
      color: rgba(255,255,255,.86);
      line-height: 1.55;
      font-weight: 700;
    }
    .chips{
      display:flex;
      flex-wrap:wrap;
      gap: 8px;
      margin-top: 10px;
    }
    .chip{
      padding: 10px 12px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.30);
      font-weight: 900;
      letter-spacing: .10em;
      text-transform: uppercase;
      font-size: 11px;
      color: rgba(255,255,255,.90);
      white-space: nowrap;
    }
    .linkBtn{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      width:min(520px,96%);
      padding:14px 16px;
      border-radius: 16px;
      border: 1px solid rgba(255,255,255,.18);
      background: rgba(0,0,0,.35);
      text-decoration:none;
      color: rgba(255,255,255,.95);
      font-weight: 950;
      letter-spacing: .18em;
      text-transform: uppercase;
      margin: 6px auto 0;
    }
    .linkBtn:active{transform:scale(.99)}
    .small{ color: rgba(255,255,255,.75); font-weight: 750; line-height: 1.5; }

    

    /* Subtle hover glow + press feedback (buttons/links) */
    .mini,.cta,.linkBtn,.chip,.server{
      transition: transform .18s ease, box-shadow .28s ease, border-color .28s ease, filter .28s ease, background .28s ease;
      will-change: transform;
    }
    .mini:hover,.cta:hover,.linkBtn:hover{
      filter: brightness(1.08);
      border-color: rgba(255,255,255,.26);
      box-shadow: 0 18px 55px rgba(0,0,0,.40);
    }
    .chip:hover,.server:hover{
      border-color: rgba(255,255,255,.22);
      filter: brightness(1.05);
    }
    .mini:active,.cta:active,.linkBtn:active,.chip:active{
      transform: scale(.985);
    }
    .mini:focus-visible,.tab:focus-visible,.cta:focus-visible,.linkBtn:focus-visible,.accBtn:focus-visible{
      outline: 2px solid rgba(255,255,255,.55);
      outline-offset: 3px;
    }

    /* Scroll reveal */
    .reveal{
      opacity: 0;
      transform: translateY(14px) scale(.995);
      filter: blur(10px);
      transition:
        opacity .55s ease,
        transform .65s cubic-bezier(.2,.8,.2,1),
        filter .65s ease;
      transition-delay: var(--d, 0ms);
    }
    .reveal.in{
      opacity: 1;
      transform: translateY(0) scale(1);
      filter: blur(0);
    }

    /* Accordion (micro snap) */
    .accBtn{
      width:100%;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      padding:0;
      margin:0 0 10px;
      border:0;
      background:transparent;
      cursor:pointer;
      text-align:left;
      font-size:14px;
      letter-spacing:.18em;
      text-transform:uppercase;
      font-weight:950;
      color: rgba(255,255,255,.92);
    }
    .accIcon{
      width:10px; height:10px;
      border-right:2px solid rgba(255,255,255,.75);
      border-bottom:2px solid rgba(255,255,255,.75);
      transform: rotate(45deg);
      opacity:.9;
      transition: transform .22s ease, opacity .22s ease;
      flex: 0 0 auto;
      margin-left: 8px;
    }
    .box.is-open .accIcon{
      transform: rotate(-135deg);
      opacity: 1;
    }
    .accBody{
      height: 0;
      overflow: hidden;
      opacity: 0;
      transform: translateY(-2px);
      transition:
        height .30s cubic-bezier(.2,.85,.2,1),
        opacity .18s ease,
        transform .30s cubic-bezier(.2,.85,.2,1);
    }
    .box.is-open .accBody{
      opacity: 1;
      transform: translateY(0);
    }
    .box.snap{
      animation: snap .26s cubic-bezier(.2,.9,.2,1);
    }
    @keyframes snap{
      0%{ transform: scale(1); }
      55%{ transform: scale(1.015); }
      100%{ transform: scale(1); }
    }

@media (max-width: 720px){
      .grid{grid-template-columns:repeat(2, minmax(0,1fr))}
    }
  </style>
</head>
<body>
  <div class="bg" aria-hidden="true"></div>
  <div class="bg2" aria-hidden="true"></div>
  <div class="vignette" aria-hidden="true"></div>

  <main class="wrap">
    <section class="card" aria-label="FuZion">
      <div class="top">
        <div class="pill">FUZION • SOLO/DUO • MONTHLY</div>
        <a class="mini" href="https://discord.gg/aUVKDV8nPk" target="_blank" rel="noopener">JOIN DISCORD</a>
      </div>

      <nav class="tabs" aria-label="Sections">
        <button class="tab" type="button" data-tab="countdown" aria-selected="true">COUNTDOWN</button>
        <button class="tab" type="button" data-tab="server" aria-selected="false">SERVER INFO</button>
        <button class="tab" type="button" data-tab="rules" aria-selected="false">RULES</button>
        <button class="tab" type="button" data-tab="links" aria-selected="false">LINKS</button>
      </nav>

      <div class="panelWrap" id="panelWrap">

      <!-- TAB 1: COUNTDOWN -->
      <section class="panel active" id="panel-countdown">
        <h1>WIPE COUNTDOWN</h1>
        <div class="target">
          <span class="label">Target</span>
          <span class="value" id="targetText">—</span>
        </div>

        <div class="grid" aria-live="polite">
          <div class="tile"><div class="num" id="d">--</div><div class="lbl">DAYS</div></div>
          <div class="tile"><div class="num" id="h">--</div><div class="lbl">HOURS</div></div>
          <div class="tile"><div class="num" id="m">--</div><div class="lbl">MIN</div></div>
          <div class="tile"><div class="num" id="s">--</div><div class="lbl">SEC</div></div>
        </div>

        <div class="ctaRow">
          <a class="cta" href="https://discord.gg/aUVKDV8nPk" target="_blank" rel="noopener"><span>JOIN NOW</span></a>
          <div class="sub">GET READY • LOCK IN</div>
        </div>

        <div class="foot">
          <div class="server">Server ID: <strong>858c63d</strong></div>
          <div class="status" id="status">—</div>
        </div>
      </section>

      <!-- TAB 2: SERVER INFO -->
      <section class="panel" id="panel-server">
        <div class="box">
          <div class="h2">Server Rates & Features</div>
          <ul class="list">
            <li>SOLO / DUO</li>
            <li>2x Gather &amp; Loot</li>
            <li>1x Sulphur</li>
            <li>1x Boom Loot</li>
            <li>3x Stack Size</li>
            <li>No BPs</li>
            <li>Fast Smelting &amp; Recycling (+ Cargo/Fishing Recyclers)</li>
            <li>Reduced Upkeep</li>
            <li>Test Gens</li>
            <li>ZORP Protection — 48hr Refresh</li>
            <li>Raid Alerts &amp; Kill Feed</li>
            <li>No Instant Craft</li>
            <li>No Infinite Charcoal</li>
            <li>Dial-A-Ride — Horse — Rhib — Motorcycles</li>
            <li>Mini’s Spawn on Roads</li>
          </ul>
        </div>

        <div class="box">
          <div class="h2">Events & Timers</div>
          <ul class="list">
            <li>20-minute Bradley Respawn</li>
            <li>5-crate Cargo</li>
            <li>9-minute Locked Crates</li>
            <li>Air Drop and Locked Crate Events Occasionally</li>
            <li>Bounty System Set Up For Fun</li>
          </ul>
        </div>

        <div class="box">
          <div class="h2">Server ID</div>
          <div class="small">Use this to find the server fast:</div>
          <div class="chip" style="margin-top:10px; display:inline-flex;">858c63d</div>
        </div>
      </section>
<!-- TAB 3: RULES -->
      <section class="panel" id="panel-rules">
        <div class="box">
          <div class="h2">1 — Age Requirement</div>
          <ul class="list">
            <li>HYP3R is <strong>16+</strong> only.</li>
            <li>If you suspect someone is underage, submit a <strong>support ticket</strong> — it will be investigated.</li>
          </ul>
        </div>

        <div class="box">
          <div class="h2">2 — Group Size (Roaming & Raiding)</div>
          <ul class="list">
            <li>Maximum of <strong>2 players</strong> when roaming or raiding.</li>
            <li><strong>ALLIES</strong> cannot assist in raids or defenses if it pushes your group over the 2‑player limit.</li>
          </ul>
          <div class="small" style="margin-top:10px;">
            <strong>Example:</strong><br/>
            1) Solo player can seek help from 1 other <strong>SOLO</strong><br/>
            2) Duo team can’t seek help or help someone else
          </div>
          <div class="small" style="margin-top:10px;">
            <strong>Solo facts:</strong><br/>
            • If you act like a team, you’ll be treated like a team.<br/>
            • Only <strong>ONE</strong> base may be Zorped.<br/>
            • Any second Zorp will be removed and one of you will receive a Zorp ban (you won’t be able to place Zorps at all).<br/><br/>
            You can’t play both sides.<br/>
            If you look like a team, move like a team, fight like a team — you <strong>ARE</strong> a team.<br/>
            Respect <strong>FAIR</strong> gameplay.
          </div>
        </div>

        <div class="box">
          <div class="h2">3 — Windmill/TestGen & Base Rules</div>
          <ul class="list">
            <li>Windmills: <strong>3 MAX</strong> per Solo/Duo team (<strong>+1</strong> extra on a Farm Base).</li>
            <li>Test Gens: <strong>1 MAX</strong> per person.</li>
            <li>Anything over will be deleted <strong>without notice</strong> by staff.</li>
          </ul>
          <div class="small" style="margin-top:10px;">
            If you are not on the same team, you may <strong>NOT</strong> share beds or sleeping bags.
          </div>
          <div class="small" style="margin-top:10px;">
            <strong>Base distance:</strong> If ZORPs are nearly touching — someone must move. No need to build on another player’s doorstep.<br/>
            <strong>Bases are checked daily.</strong> If more than 2 beds/bags are found in a base that’s not in TEAM, <strong>ALL</strong> bags/beds will be deleted.
          </div>
        </div>

        <div class="box">
          <div class="h2">4 — Monuments & Quarries</div>
          <ul class="list">
            <li>Do not block or wall off monuments or quarries — they must remain open to all players.</li>
          </ul>
          <div class="small" style="margin-top:10px;">
            <strong>Punishments:</strong><br/>
            First offence: Warning & removal<br/>
            Second offence: Ban
          </div>
        </div>

        <div class="box">
          <div class="h2">5 — Anti‑Cheat Enforcement</div>
          <ul class="list">
            <li>If your gamertag includes “<strong>XIM</strong>”, “<strong>ZEN</strong>”, or “<strong>Cronus</strong>”, you will be banned from the server — <strong>no exceptions</strong>.</li>
            <li>This includes promoting the use of these devices.</li>
            <li>Anyone found in Cronus/XIM/ZEN‑related Discords will also be banned from this Discord.</li>
          </ul>
          <div class="small" style="margin-top:10px;">
            Some people troll with these names, but it’s already difficult to identify real cheaters — this rule helps keep gameplay fair.
          </div>
        </div>

        <div class="box">
          <div class="h2">6 — Cheats & Third‑Party Devices</div>
          <ul class="list">
            <li>Hacks, macros, scripts, and external devices (e.g., XIM, Zen, Cronus) are strictly forbidden.</li>
            <li>Reports must go through <strong>D11</strong> (use the “Someone‑Cheating” channel/link).</li>
            <li>Staff will only issue bans after investigation if cheating is blatantly obvious.</li>
          </ul>
        </div>

        <div class="box">
          <div class="h2">7 — Conduct</div>
          <div class="small" style="margin-bottom:10px;">Zero tolerance for:</div>
          <ul class="list">
            <li>Hate speech</li>
            <li>Racism</li>
            <li>Threats or harassment</li>
            <li>Encouraging self‑harm</li>
            <li>Persistent toxicity</li>
            <li>Use of the <strong>N‑word</strong> = instant Discord kick</li>
            <li>Do not attempt to bypass word blockers</li>
          </ul>
          <div class="small" style="margin-top:10px;">
            <strong>Note:</strong> Discord bans do not always mean a server ban. Discord rules and server rules can be separate. Break Discord rules = lose Discord access. Break server rules = lose server and Discord access.
          </div>
        </div>

        <div class="box">
          <div class="h2">8 — Griefing</div>
          <div class="small" style="margin-bottom:10px;">The following are not allowed:</div>
          <ul class="list">
            <li>Walling off other players’ bases with walls, gates, towers, etc.</li>
            <li>Placing TCs purely to grief / raiding players’ TCs and taking them over.</li>
          </ul>
        </div>

        <div class="box">
          <div class="h2">9 — NSFW Content</div>
          <ul class="list">
            <li>Absolutely no explicit text, images, videos, or emojis.</li>
            <li>Posting NSFW content = <strong>instant ban</strong>.</li>
          </ul>
        </div>
      </section>
<!-- TAB 4: LINKS -->
      <section class="panel" id="panel-links">
        <div class="box">
          <div class="h2">Discord</div>
          <a class="linkBtn" href="https://discord.gg/aUVKDV8nPk" target="_blank" rel="noopener">OPEN DISCORD INVITE</a>
          <div class="small" style="margin-top:10px;">
            Link: <span style="font-variant-numeric: tabular-nums;">discord.gg/aUVKDV8nPk</span>
          </div>
        </div>

        <div class="box">
          <div class="h2">Share</div>
          <div class="small">
            Share this site link in Discord. People can switch tabs without leaving the page.
          </div>
        </div>
      </section>

      </div>
    </section>
  </main>

  <script>
    // Wipe moment (timezone-proof)
    // Jan 30, 2026 @ 4:00 PM America/Chicago (Central)
    const WIPE_UTC = "2026-01-30T22:00:00Z";

    const $ = (id) => document.getElementById(id);
    const pad2 = (n) => String(n).padStart(2,"0");

    function update(){
      const target = new Date(WIPE_UTC);
      const localText = target.toLocaleString(undefined, {
        year:"numeric", month:"short", day:"2-digit",
        hour:"2-digit", minute:"2-digit"
      });

      const centralText = target.toLocaleString("en-US", {
        timeZone: "America/Chicago",
        year:"numeric", month:"short", day:"2-digit",
        hour:"2-digit", minute:"2-digit"
      });

      $("targetText").textContent = `${centralText} (Central) • Your time: ${localText}`;

      const now = new Date();
      let diff = target - now;

      if (diff <= 0){
        $("d").textContent = "00";
        $("h").textContent = "00";
        $("m").textContent = "00";
        $("s").textContent = "00";
        $("status").textContent = "WIPE LIVE";
        document.title = "FuZion • WIPE LIVE";
        return;
      }

      const sec = Math.floor(diff/1000);
      const days = Math.floor(sec/86400);
      const hours = Math.floor((sec%86400)/3600);
      const mins = Math.floor((sec%3600)/60);
      const secs = sec%60;

      $("d").textContent = pad2(days);
      $("h").textContent = pad2(hours);
      $("m").textContent = pad2(mins);
      $("s").textContent = pad2(secs);

      $("status").textContent = days === 0 ? "TODAY" : (days === 1 ? "TOMORROW" : "SOON");
      document.title = `FuZion • ${days}d ${pad2(hours)}:${pad2(mins)}:${pad2(secs)}`;
    }

        // Tabs logic (single-page) + animated transitions
    const tabs = Array.from(document.querySelectorAll(".tab"));
    const panelWrap = document.getElementById("panelWrap");
    const panels = {
      countdown: document.getElementById("panel-countdown"),
      server: document.getElementById("panel-server"),
      rules: document.getElementById("panel-rules"),
      links: document.getElementById("panel-links"),
    };

    let activeTab = "countdown";

    const prefersReduced = window.matchMedia && window.matchMedia("(prefers-reduced-motion: reduce)").matches;

    // Scroll reveal (observed per active panel so hidden panels don't pre-trigger)
    const revealObserver = (!prefersReduced && "IntersectionObserver" in window)
      ? new IntersectionObserver((entries, obs) => {
          for (const e of entries){
            if (e.isIntersecting){
              e.target.classList.add("in");
              obs.unobserve(e.target);
            }
          }
        }, { threshold: 0.12, rootMargin: "0px 0px -10% 0px" })
      : null;

    function markReveal(panel){
      if (!panel) return;
      const targets = panel.querySelectorAll(".tile,.box,.ctaRow,.foot,.target,.linkBtn,.cta");
      let i = 0;
      targets.forEach(el => {
        if (el.classList.contains("reveal")) return;
        el.classList.add("reveal");
        el.style.setProperty("--d", `${Math.min(i * 55, 440)}ms`);
        i++;
      });
    }

    function revealIn(panel){
      if (!panel) return;
      markReveal(panel);
      const els = panel.querySelectorAll(".reveal:not(.in)");
      if (prefersReduced || !revealObserver){
        els.forEach(el => el.classList.add("in"));
        return;
      }
      els.forEach(el => revealObserver.observe(el));
    }

    // Accordion (auto-convert each .box into a collapsible card)
    function toggleAccordion(box){
      const btn = box.querySelector(".accBtn");
      const body = box.querySelector(".accBody");
      if (!btn || !body) return;

      const isOpen = box.classList.contains("is-open");

      // micro snap
      box.classList.add("snap");
      setTimeout(() => box.classList.remove("snap"), 260);

      if (isOpen){
        // close
        const h = body.scrollHeight;
        body.style.height = h + "px";
        body.style.opacity = "1";
        // next frame -> 0
        requestAnimationFrame(() => {
          box.classList.remove("is-open");
          btn.setAttribute("aria-expanded", "false");
          body.style.height = "0px";
          body.style.opacity = "0";
          setWrapHeight(panels[activeTab]);
        });
      } else {
        // open
        box.classList.add("is-open");
        btn.setAttribute("aria-expanded", "true");
        body.style.opacity = "1";
        body.style.height = "0px";
        requestAnimationFrame(() => {
          const h = body.scrollHeight;
          body.style.height = h + "px";
          setWrapHeight(panels[activeTab]);
        });
        body.addEventListener("transitionend", (e) => {
          if (e.propertyName === "height" && box.classList.contains("is-open")){
            body.style.height = "auto";
            setWrapHeight(panels[activeTab]);
          }
        }, { once:true });
      }
    }

    function initAccordions(panel){
      if (!panel) return;
      const collapseByDefault = panel.id === "panel-rules";

      panel.querySelectorAll(".box").forEach((box) => {
        if (box.dataset.accordionInit === "1") return;

        const titleEl = box.querySelector(".h2");
        if (!titleEl) return;

        // Create header button
        const btn = document.createElement("button");
        btn.type = "button";
        btn.className = "accBtn";
        btn.setAttribute("aria-expanded", collapseByDefault ? "false" : "true");
        btn.innerHTML = `<span>${titleEl.textContent}</span><span class="accIcon" aria-hidden="true"></span>`;

        // Wrap remaining content into body
        const body = document.createElement("div");
        body.className = "accBody";

        // Move nodes after title into body
        let node = titleEl.nextSibling;
        while (node){
          const next = node.nextSibling;
          body.appendChild(node);
          node = next;
        }

        titleEl.replaceWith(btn);
        box.appendChild(body);

        // Initial state
        if (!collapseByDefault){
          box.classList.add("is-open");
          // set to auto after first paint
          requestAnimationFrame(() => { body.style.height = "auto"; body.style.opacity = "1"; });
        } else {
          box.classList.remove("is-open");
          body.style.height = "0px";
          body.style.opacity = "0";
        }

        btn.addEventListener("click", () => toggleAccordion(box));

        box.dataset.accordionInit = "1";
      });
    }

    function setWrapHeight(panel, instant=false){
      if (!panelWrap || !panel) return;
      const h = panel.scrollHeight;
      if (instant){
        const prev = panelWrap.style.transition;
        panelWrap.style.transition = "none";
        panelWrap.style.height = h + "px";
        // restore transitions next frame
        requestAnimationFrame(() => { panelWrap.style.transition = prev || ""; });
      } else {
        panelWrap.style.height = h + "px";
      }
    }

    function ripple(btn, ev){
      const r = btn.getBoundingClientRect();
      const x = (ev.clientX - r.left) + "px";
      const y = (ev.clientY - r.top) + "px";
      btn.style.setProperty("--rx", x);
      btn.style.setProperty("--ry", y);
      btn.classList.remove("rippling");
      // restart animation
      void btn.offsetWidth;
      btn.classList.add("rippling");
      setTimeout(() => btn.classList.remove("rippling"), 520);
    }

    function show(tabName, opts = {}){
      const pushHash = opts.pushHash !== false;
      const instant = opts.instant === true;

      const safeName = panels[tabName] ? tabName : "countdown";
      const next = panels[safeName];
      const current = panels[activeTab];

      if (current && current !== next){
        current.classList.remove("active");
        current.classList.add("leaving");
        current.addEventListener("transitionend", () => current.classList.remove("leaving"), { once:true });
      }

      next.classList.add("active");
      next.classList.remove("leaving");

      tabs.forEach(t => t.setAttribute("aria-selected", t.dataset.tab === safeName ? "true" : "false"));

      activeTab = safeName;

      // Animate container height to match new panel
      setWrapHeight(next, instant);

      // Activate per-panel enhancements
      initAccordions(next);
      revealIn(next);

      if (pushHash) location.hash = safeName;
    }

    tabs.forEach(btn => btn.addEventListener("click", (e) => {
      ripple(btn, e);
      show(btn.dataset.tab);
    }));

    window.addEventListener("hashchange", () => {
      const name = (location.hash || "#countdown").replace("#","");
      show(name, { pushHash:false });
    });

    // Initial tab
    const initial = (location.hash || "#countdown").replace("#","");
    show(initial, { pushHash:false, instant:true });

    // Keep height correct on resize (fonts/orientation changes)
    let resizeT;
    window.addEventListener("resize", () => {
      clearTimeout(resizeT);
      resizeT = setTimeout(() => setWrapHeight(panels[activeTab]), 80);
    });

    update();
    setInterval(update, 250);
</script>
</body>
</html>
